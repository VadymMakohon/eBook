<!-- Using an anonymous function wrapper to persist the iterator properly. -->

<div></div>
<div></div>
<script>
var div = document.getElementsByTagName("div");
for ( var i = 0; i < div.length; i++ ) (function(i){
  div[i].addEventListener("click", function(){
    alert( "div #" + i + " was clicked." );
  }, false);
})(i);
</script>